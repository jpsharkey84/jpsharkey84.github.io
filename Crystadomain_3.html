<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Beacons - Enterable Environment</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; overflow: hidden; background: #203c56; font-family: 'Press Start 2P', cursive; }
        canvas { display: block; image-rendering: pixelated; }
        
        /* UI Overlay */
        #ui-layer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            pointer-events: auto;
        }
        .panel {
            background: rgba(74, 111, 165, 0.9);
            border: 4px solid #94b0da;
            padding: 15px;
            color: white;
            min-width: 200px;
        }
        .menu-item { font-size: 10px; padding: 5px; border: 1px solid transparent; margin-bottom: 5px; cursor: pointer; }
        .menu-item:hover { border: 1px solid #fff; background: rgba(255,255,255,0.1); }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; margin-top: 10px; }
        button { font-family: 'Press Start 2P'; font-size: 8px; background: #333; color: white; border: 1px solid #94b0da; padding: 5px; cursor: pointer; }
        .controls-hint { position: absolute; top: 10px; left: 10px; color: gold; font-size: 8px; }
    </style>
</head>
<body>

<div class="controls-hint">USE WASD OR ARROWS TO WALK</div>

<div id="ui-layer">
    <div class="panel">
        <div style="font-size: 12px; margin-bottom: 10px; border-bottom: 1px solid #fff;">BEACONS</div>
        <div class="menu-item">TODAY</div>
        <div class="menu-item">LOGS</div>
        <div class="menu-item">BACKPACK</div>
        <div class="menu-item">MONEY</div>
    </div>
    <div class="panel">
        <div id="date" style="font-size: 10px; text-align: center;">Jan 14 2026</div>
        <div class="btn-grid">
            <button>Sun</button><button>Rain</button><button>Grey</button>
            <button>Flow</button><button>Idle</button><button>Save</button>
        </div>
    </div>
</div>

<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// --- Game Objects ---

const player = {
    x: canvas.width / 2,
    y: canvas.height * 0.7,
    width: 32,
    height: 48,
    speed: 4,
    color: '#4e342e', // Cloak color
    targetX: canvas.width / 2,
    targetY: canvas.height * 0.7
};

// Spires as Objects
const spires = [
    { x: canvas.width * 0.2, y: canvas.height * 0.3, scale: 1.2 },
    { x: canvas.width * 0.8, y: canvas.height * 0.3, scale: 1.2 },
    { x: canvas.width * 0.4, y: canvas.height * 0.4, scale: 0.8 },
    { x: canvas.width * 0.6, y: canvas.height * 0.4, scale: 0.8 }
];

// Clouds for Parallax
const clouds = [];
for(let i = 0; i < 20; i++) {
    clouds.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 100 + 50,
        speed: Math.random() * 0.5 + 0.1
    });
}

// --- Input Handling ---
const keys = {};
window.addEventListener('keydown', e => keys[e.code] = true);
window.addEventListener('keyup', e => keys[e.code] = false);

// --- Render Functions ---

function drawSky() {
    let gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
    gradient.addColorStop(0, '#ff9d00'); // Top (Sun)
    gradient.addColorStop(0.5, '#feb47b'); // Horizon
    gradient.addColorStop(1, '#203c56'); // Bottom
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
}

function drawClouds() {
    ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
    clouds.forEach(c => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, c.size, 0, Math.PI * 2);
        ctx.fill();
        // Move clouds slightly for ambient life
        c.x += c.speed;
        if (c.x > canvas.width + 100) c.x = -100;
    });
}

function drawPath() {
    ctx.fillStyle = "rgba(255, 255, 255, 0.15)";
    ctx.beginPath();
    ctx.moveTo(canvas.width / 2 - 50, canvas.height);
    ctx.lineTo(canvas.width / 2 - 10, canvas.height * 0.3);
    ctx.lineTo(canvas.width / 2 + 10, canvas.height * 0.3);
    ctx.lineTo(canvas.width / 2 + 50, canvas.height);
    ctx.fill();
}

function drawSpires() {
    spires.forEach(s => {
        ctx.fillStyle = "#94b0da";
        ctx.shadowBlur = 20;
        ctx.shadowColor = "gold";
        // Simple pixel-style Obelisk
        ctx.fillRect(s.x, s.y, 40 * s.scale, 200 * s.scale);
        ctx.beginPath();
        ctx.moveTo(s.x, s.y);
        ctx.lineTo(s.x + (20 * s.scale), s.y - (40 * s.scale));
        ctx.lineTo(s.x + (40 * s.scale), s.y);
        ctx.fill();
        ctx.shadowBlur = 0;
    });
}

function drawPlayer() {
    // Shadow
    ctx.fillStyle = "rgba(0,0,0,0.3)";
    ctx.beginPath();
    ctx.ellipse(player.x + 16, player.y + 45, 15, 8, 0, 0, Math.PI * 2);
    ctx.fill();

    // Cloaked figure sprite
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, 32, 48); // Body
    ctx.fillStyle = "#222"; 
    ctx.fillRect(player.x + 8, player.y + 5, 16, 10); // Hood shadow
}

function update() {
    if (keys['KeyW'] || keys['ArrowUp']) player.y -= player.speed;
    if (keys['KeyS'] || keys['ArrowDown']) player.y += player.speed;
    if (keys['KeyA'] || keys['ArrowLeft']) player.x -= player.speed;
    if (keys['KeyD'] || keys['ArrowRight']) player.x += player.speed;
}

function gameLoop() {
    update();
    drawSky();
    drawClouds();
    drawPath();
    drawSpires();
    drawPlayer();
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
